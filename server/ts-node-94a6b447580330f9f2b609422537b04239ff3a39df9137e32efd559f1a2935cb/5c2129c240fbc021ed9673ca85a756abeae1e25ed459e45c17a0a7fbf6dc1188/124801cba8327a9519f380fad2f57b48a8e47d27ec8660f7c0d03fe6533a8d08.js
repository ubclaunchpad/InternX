"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("dotenv").config();
var express = require("express");
var morgan = require("morgan");
var bodyParser = require("body-parser");
// import * as swaggerUi from "swagger-ui-express";
var swaggerUi = require("swagger-ui-express");
var app_1 = require("./configurations/app");
var v1_1 = require("./routes/v1");
require("reflect-metadata");
var typeorm_1 = require("typeorm");
var app = express();
/*Configuration*/
app.use(morgan("dev")); // req logging
app.use(bodyParser.json()); // parsing json req formats
app.use(bodyParser.urlencoded({ extended: true })); // parsing form req formats
app.disable("etag");
var swaggerDocument = require("./swagger.json");
app.use("/swagger", swaggerUi.serve, swaggerUi.setup(swaggerDocument));
/*Routes*/
v1_1.default(app);
/*RunServer*/
app.listen(app_1.default.port);
console.log("Server has successfully started on PORT: " + app_1.default.port);
typeorm_1.createConnection().catch(function (err) {
    return console.error("Failed to create connection to PostgreSQL\n" + err);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL3Vzci9zcmMvYXBwL2ludGVybmFkby1zZXJ2ZXIvc2VydmVyLnRzIiwic291cmNlcyI6WyIvdXNyL3NyYy9hcHAvaW50ZXJuYWRvLXNlcnZlci9zZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDM0IsaUNBQW1DO0FBQ25DLCtCQUFpQztBQUNqQyx3Q0FBMEM7QUFDMUMsbURBQW1EO0FBQ25ELElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ2hELDRDQUE2QztBQUM3QyxrQ0FBaUM7QUFDakMsNEJBQTBCO0FBQzFCLG1DQUEyQztBQUUzQyxJQUFNLEdBQUcsR0FBd0IsT0FBTyxFQUFFLENBQUM7QUFFM0MsaUJBQWlCO0FBQ2pCLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjO0FBQ3RDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQywyQkFBMkI7QUFDdkQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLDJCQUEyQjtBQUMvRSxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBRXBCLElBQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ2xELEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0FBRXZFLFVBQVU7QUFDVixZQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFFWixhQUFhO0FBQ2IsR0FBRyxDQUFDLE1BQU0sQ0FBQyxhQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQ0FBMkMsR0FBRyxhQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFMUUsMEJBQWdCLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBQyxHQUFHO0lBQzNCLE9BQUEsT0FBTyxDQUFDLEtBQUssQ0FBQyw2Q0FBNkMsR0FBRyxHQUFHLENBQUM7QUFBbEUsQ0FBa0UsQ0FDbkUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgKiBhcyBtb3JnYW4gZnJvbSBcIm1vcmdhblwiO1xuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcbi8vIGltcG9ydCAqIGFzIHN3YWdnZXJVaSBmcm9tIFwic3dhZ2dlci11aS1leHByZXNzXCI7XG5jb25zdCBzd2FnZ2VyVWkgPSByZXF1aXJlKFwic3dhZ2dlci11aS1leHByZXNzXCIpO1xuaW1wb3J0IGFwcENvbmZpZyBmcm9tIFwiLi9jb25maWd1cmF0aW9ucy9hcHBcIjtcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vcm91dGVzL3YxXCI7XG5pbXBvcnQgXCJyZWZsZWN0LW1ldGFkYXRhXCI7XG5pbXBvcnQgeyBjcmVhdGVDb25uZWN0aW9uIH0gZnJvbSBcInR5cGVvcm1cIjtcblxuY29uc3QgYXBwOiBleHByZXNzLkFwcGxpY2F0aW9uID0gZXhwcmVzcygpO1xuXG4vKkNvbmZpZ3VyYXRpb24qL1xuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpOyAvLyByZXEgbG9nZ2luZ1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7IC8vIHBhcnNpbmcganNvbiByZXEgZm9ybWF0c1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7IC8vIHBhcnNpbmcgZm9ybSByZXEgZm9ybWF0c1xuYXBwLmRpc2FibGUoXCJldGFnXCIpO1xuXG5jb25zdCBzd2FnZ2VyRG9jdW1lbnQgPSByZXF1aXJlKFwiLi9zd2FnZ2VyLmpzb25cIik7XG5hcHAudXNlKFwiL3N3YWdnZXJcIiwgc3dhZ2dlclVpLnNlcnZlLCBzd2FnZ2VyVWkuc2V0dXAoc3dhZ2dlckRvY3VtZW50KSk7XG5cbi8qUm91dGVzKi9cbnJvdXRlcihhcHApO1xuXG4vKlJ1blNlcnZlciovXG5hcHAubGlzdGVuKGFwcENvbmZpZy5wb3J0KTtcbmNvbnNvbGUubG9nKFwiU2VydmVyIGhhcyBzdWNjZXNzZnVsbHkgc3RhcnRlZCBvbiBQT1JUOiBcIiArIGFwcENvbmZpZy5wb3J0KTtcblxuY3JlYXRlQ29ubmVjdGlvbigpLmNhdGNoKChlcnIpID0+XG4gIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGNvbm5lY3Rpb24gdG8gUG9zdGdyZVNRTFxcblwiICsgZXJyKVxuKTtcbiJdfQ==